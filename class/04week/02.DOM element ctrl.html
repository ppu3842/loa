<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <title>JS DOM element ctrl</title>
    </head>
    <body>
        <!-- 요소의 속성 변경 -->
        <img src="./image/다운로드 (0).jpg" alt="예제 1번" width="120" id="aa">
        <button onclick="changeImage()">change image</button>
        <script>
            function changeImage(){
                document.getElementById("aa").src="./image/다운로드 (1).jpg"
            }
        </script>

        <hr>
        <!-- 요소의 스타일 변경 : DOM tree 구조를 이용한 요소 접근법 -->
        <p id="p1">this is paragrapha</p>
        <button onclick="clickBtn(this)">스타일 변경</button>
        <script>
            function clickBtn(e){
                // 클릭된 버튼의 앞 형제 요소 찾기
                var p= e.previousElementSibling;
                p.style.color= "red"
                p.style.fontWeight= "bold"
                p.style.fontStyle= "italic"
            }
        </script>
        <!-- class 속성을 이용하여 다중스타일 한 방에 적용 -->
        <style>
            .kk {
                color: blue;
                font-weight: bold;
                font-style: italic;
            }
        </style>
        <button onclick="clickBtn2()">클래스 속성으로 다중 스타일 한 방에 변경</button>
        <script>
            function clickBtn2(){
                document.getElementById('p1').style="" // 기존 인라인 스타일 제거
                document.getElementById('p1').className="kk" // 추가 적용
            }
        </script>

        <hr>

        <!-- DOM 노드의 동적인 추가와 삭제 -->
        <button onclick="addText()">텍스트 추가</button>
        <button onclick="addElement()">요소 추가</button>
        <button onclick="removeNode()">자식 노드 제거</button>
        <p id="pp"></p>

        <script>
            function addText(){
                // var node= document.createTextNode("this is text");
                // var node= document.createTextNode("<a href=''>this is text</a>");

                // var pp= document.getElementById("pp");
                // pp.appendChild(node);

                // 위 작업 (텍스트 노드 추가)을 간략하게 하는 속성
                document.getElementById("pp").textContent += "<a href=''>this is text</a>"
            }
            function addElement(){
                // var node= document.createElement("a");
                
                // // 속성 노드 추가하는 방법
                // var attri= document.createAttribute("href");
                // attri.value= "http://www.naver.com"
                // node.setAttributeNode(attri);

                // // 텍스트 도그 생성 및 추가
                // var text= document.createTextNode('Naver');
                // node.appendChild(text);
                // document.getElementById("pp").appendChild(node);
                document.getElementById("pp").innerHTML= "<a href='https://www.naver.com'>Naver</a>";
            }
            function removeNode(){
                var pp= document.getElementById("pp");
                pp.removeChild(pp.firstChild);
            }
        </script>

        <hr>

        <!-- JS에서 요소를 찾을떄 CSS 선택자 문법을 이용하여 요소접근방식 -->
        <h3 id="ee">Hello world</h3>
        <button onclick="aaa()">Button</button>
        <script>
            function aaa(){
                var e= document.querySelector("#ee"); // css 문법의 id 선택자
                e.innerHTML = 'Nice to meet you';
            }
        </script>
        <hr>
        <h4>aaa</h4>
        <h4>bbb</h4>
        <h4>ccc</h4>
        <button onclick="bbb()">Button</button>
        <script>
            // css 선택자 중에서 여러 요소가 찾아지는 선택자들
            function bbb(){
                var es= document.querySelectorAll("h4"); // 타입선택자로서 여러가지 참조 - 배열로 리턴
                es[0].innerHTML = "good"
            }
            var es= document.querySelectorAll("h4");
            es[1].onclick=function(){
                alert("bbb");
            }
        </script>

        <hr>

        
    </body>
</html>